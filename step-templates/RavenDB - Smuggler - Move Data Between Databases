@@ -0,0 +1,138 @@
{
  "Id": "ActionTemplates-60",
  "Name": "RavenDB - Smuggler - Move Data Between Databases",
  "Description": "To move data directly between two instances (or different databases in the same instance) using the between option introduced in Smuggler version 3.",
  "ActionType": "Octopus.Script",
  "Version": 5,
  "Properties": {
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptBody": "# Variables\r\n\r\n#Location of the Raven Smuggler exe\r\n$ravenSmugglerPath = $OctopusParameters[\"ravenDBSmugglerPath\"]\r\n\r\n#--------------------------------------------------------------------\r\n# Source Database Variables\r\n\r\n#URL of RavenDB that is being backed up \r\n$sourceDatabaseURL = $OctopusParameters[\"sourceDBUrl\"]\r\n\r\n#name of the RavenDB that is being backed up\r\n$sourceDatabaseName = $OctopusParameters[\"sourceDBName\"]\r\n\r\n#API Key fo...(line truncated)...
  },
  "SensitiveProperties": {},
  "Parameters": [
    {
      "Name": "ravenDBSmugglerPath",
      "Label": "Raven Smuggler Path",
      "HelpText": "Full path to the Smuggler EXE.\n \nFor example **C:\\RavenDB\\Smuggler\\Raven.Smuggler.exe**",
      "DefaultValue": "C:\\RavenDB\\Smuggler\\Raven.Smuggler.exe",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "sourceDBUrl",
      "Label": "Source Database URL",
      "HelpText": "The URL of the Raven database, where the **Source Database** is located. \n\nFor example **http://localhost:8080/**",
      "DefaultValue": "http://localhost:8080/",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "sourceDBName",
      "Label": "Name of the Source Database",
      "HelpText": "Name of the **Source Database** in Raven.",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "sourceDBApiKey",
      "Label": "API Key for the Source Database",
      "HelpText": "API Key needed to access the **Source Database**. \n\nIf key is not provided, anonymous authentication will be used.\n\nFor more information: http://ravendb.net/docs/article-page/3.0/csharp/studio/accessing-studio",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "destinationDBUrl",
      "Label": "Destination Database URL",
      "HelpText": "The URL of the Raven database, where the **Destination Database** is located. \n\nFor example **http://localhost:8080/**",
      "DefaultValue": "http://localhost:8080/",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "destinationDBName",
      "Label": "Name of the Destination Database",
      "HelpText": "Name of the **Destination Database** in Raven.",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "destinationDBApiKey",
      "Label": "API Key for the Destination Database",
      "HelpText": "API Key needed to access the **Destination Database**. \n\nIf key is not provided, anonymous authentication will be used.\n\nFor more information: http://ravendb.net/docs/article-page/3.0/csharp/studio/accessing-studio",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "OperateDocuments",
      "Label": "Operate on Documents",
      "HelpText": "With Raven backup, you can choose which types are operated during the backup.\n\nUnselect this option to exclude **Documents** from the copying process.",
      "DefaultValue": "True",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      }
    },
    {
      "Name": "OperateAttachments",
      "Label": "Operate on Attachments",
      "HelpText": "With Raven backup, you can choose which types are operated during the backup.\n\nUnselect this option to exclude **Attachments** from the copying process.",
      "DefaultValue": "True",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      }
    },
    {
      "Name": "OperateIndexes",
      "Label": "Operate on Indexes",
      "HelpText": "With Raven backup, you can choose which types are operated during the backup.\n\nUnselect this option to exclude **Indexes** from the copying process.",
      "DefaultValue": "True",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      }
    },
    {
      "Name": "OperateTransformers",
      "Label": "Operate on Transformers",
      "HelpText": "With Raven backup, you can choose which types are operated during the backup.\n\nUnselect this option to exclude **Transformers** from the copying process.",
      "DefaultValue": "True",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      }
    },
    {
      "Name": "backUpTimeout",
      "Label": "Timeout",
      "HelpText": "The timeout (in milliseconds) to use for requests.",
      "DefaultValue": "300000",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "WaitIndexing",
      "Label": "Wait for Indexing",
      "HelpText": "Wait until all indexing activity has been completed (Import Only).",
      "DefaultValue": "True",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      }
    }
  ],
  "LastModifiedOn": "2015-11-02T22:39:11.556Z",
  "LastModifiedBy": "timhunt303",
  "$Meta": {
    "ExportedAt": "2015-11-02T23:10:31.140Z",
    "OctopusVersion": "3.1.3",
    "Type": "ActionTemplate"
  }
}
\ No newline at end of file
