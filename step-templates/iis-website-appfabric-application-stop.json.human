{
  "Id": "bf1f9d1d-3200-4ae6-bab1-12e42aa829e6",
  "Name": "IIS Website AppFabric Application - Stop",
  "Description": "Stops an AppFabric application in IIS.",
  "ActionType": "Octopus.Script",
  "Version": 6,
  "Properties": {
    "Octopus.Action.Script.ScriptBody": "Import-Module WebAdministration

$webSiteName = $OctopusParameters['WebSiteName']
$applicationName = $OctopusParameters['ApplicationName']

if (!$webSiteName)
{
    Write-Error \"No Website name was specified. Please specify the name of the Website that contains the AppFabric application.\"
    exit -2
}

if (!$applicationName)
{
    Write-Error \"No Application name was specified. Please specify the name of the AppFabric Application contained in the Website.\"
    exit -2
}

Write-Output \"Stopping IIS AppFabric application $applicationName in website $webSiteName\"
Stop-AsApplication $webSiteName $applicationName
",
    "Octopus.Action.Script.Syntax": "PowerShell"
  },
  "SensitiveProperties": {},
  "Parameters": [
    {
      "Name": "WebsiteName",
      "Label": "Website name",
      "HelpText": "The name of the site in IIS",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "ApplicationName",
      "Label": "Application Name",
      "HelpText": "The name of the AppFabric application inside the Website in IIS",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    }
  ],
  "LastModifiedOn": "2014-09-20T21:03:33.663+00:00",
  "LastModifiedBy": "caioproiete",
  "$Meta": {
    "ExportedAt": "2014-09-20T21:19:58.914+00:00",
    "OctopusVersion": "2.5.8.447",
    "Type": "ActionTemplate"
  },
  "Category": "iis"
}
